webpackJsonp([1],{HuWz:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},r,!1,function(e){n("HuWz")},null,null).exports,o=n("/ocq"),c=n("Dd8w"),u=n.n(c),a=n("NYxO"),d={FETCH_QUESTIONS:"fetch_questions",FETCH_CATEGORIES:"fetch_categories"},f={UPDATE_CATEGORIES:"update_categories",UPDATE_CATEGORY:"update_category",UPDATE_DIFFICULTY:"update_difficulty",UPDATE_QUESTIONS:"update_questions",ANSWER_CORRECT:"answer_correct",ANSWER_INCORRECT:"answer_incorrect"},_={mounted:function(){0===this.alphabeticalCategories.length&&this.getCategories()},computed:u()({},Object(a.c)(["difficulties"]),Object(a.b)(["alphabeticalCategories","current_category","current_difficulty"])),methods:{getCategories:function(){this.$store.dispatch(d.FETCH_CATEGORIES)},update_category:function(e){this.$store.commit(f.UPDATE_CATEGORY,e.target.value)},update_difficulty:function(e){this.$store.commit(f.UPDATE_DIFFICULTY,e.target.value)},get_new_questions:function(){this.$router.push("/question")}}},l={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"quiz"},[n("select",{attrs:{id:"cats",name:"categories"},on:{change:e.update_category}},e._l(e.alphabeticalCategories,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v("\n      "+e._s(t.name)+"\n    ")])})),e._v(" "),n("select",{attrs:{id:"difficulties",name:"difficulties"},on:{change:e.update_difficulty}},e._l(e.difficulties,function(t){return n("option",{key:t.id,domProps:{value:t.id}},[e._v(e._s(t.name))])})),e._v(" "),n("button",{on:{click:e.get_new_questions}},[e._v("go to quiz")])])},staticRenderFns:[]};var p=n("VU/8")(_,l,!1,function(e){n("xrT5")},"data-v-668fb39e",null).exports,h=n("Gu7T"),m=n.n(h),g={beforeMount:function(){this.$store.dispatch(d.FETCH_QUESTIONS)},data:function(){return{success:!1}},computed:u()({},Object(a.c)(["questions"]),Object(a.b)(["not_answered_question"]),{shuffled_answers:function(){return this.shuffleAnswers(this.not_answered_question.correct_answer,this.not_answered_question.incorrect_answers)}}),methods:{answer:function(e,t){2===this.$store.state.questions.filter(function(e){return!1===e.answered}).length&&this.$store.dispatch(d.FETCH_QUESTIONS),e.correct_answer===t?(this.success=!0,this.$store.commit(f.ANSWER_CORRECT,e)):(this.success=!1,this.$store.commit(f.ANSWER_INCORRECT,e))},shuffleAnswers:function(e,t){for(var n=[e].concat(m()(t)),i=n.length-1;i>0;i-=1){var r=Math.floor(Math.random()*(i+1)),s=[n[r],n[i]];n[i]=s[0],n[r]=s[1]}return n}}},v={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:{green:e.success,red:!e.success}},[e._v("Previous question")]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.not_answered_question.question)}}),e._v(" "),"multiple"===e.not_answered_question.type?n("div",e._l(e.shuffled_answers,function(t){return n("a",{key:t,on:{click:function(n){e.answer(e.not_answered_question,t)}}},[n("div",{staticClass:"answer"},[n("span",{domProps:{innerHTML:e._s(t)}})])])})):e._e()])},staticRenderFns:[]};var E=n("VU/8")(g,v,!1,function(e){n("w0Bq")},"data-v-1e203c57",null).exports;i.a.use(o.a);var w=new o.a({routes:[{path:"/",name:"Quiz",component:p},{path:"/question",component:E,name:"Question"}]}),T={fetch_categories:function(e){var t=e.commit;fetch("https://opentdb.com/api_category.php").then(function(e){return e.json()}).then(function(e){var n=e.trivia_categories?e.trivia_categories:[];t(f.UPDATE_CATEGORIES,n)})},fetch_questions:function(e){var t=e.commit,n=e.state,i="https://opentdb.com/api.php?amount=10";-1!==n.selected_category.id&&(i+="&category="+n.selected_category.id),n.current_difficulty.name&&(i+="&difficulty="+n.current_difficulty.name),fetch(i).then(function(e){return e.json()}).then(function(e){var n=e.results?e.results:[];t(f.UPDATE_QUESTIONS,n)})}},y={update_categories:function(e,t){-1===t.findIndex(function(e){return-1===e.id})&&t.push({name:"Any",id:-1}),e.categories=t},update_category:function(e,t){e.selected_category=e.categories.find(function(e){return e.id===+t})},update_difficulty:function(e,t){e.current_difficulty=e.difficulties.find(function(e){return e.id===+t})},update_questions:function(e,t){var n=e.questions.length,i=t.map(function(e,t){return u()({},e,{answered:!1,correct:!1,id:n+t})});e.questions=[].concat(m()(e.questions),m()(i))},answer_correct:function(e,t){var n=e.questions.find(function(e){return e.id===t.id});n.answered=!0,n.correct=!0},answer_incorrect:function(e,t){var n=e.questions.find(function(e){return e.id===t.id});n.answered=!0,n.correct=!1}};i.a.use(a.a);var q=new a.a.Store({state:{count:0,categories:[],selected_category:{name:"",id:-1},difficulties:[{name:"any",id:-1},{name:"easy",id:1},{name:"medium",id:2},{name:"hard",id:3}],current_difficulty:{name:"",id:0},questions:[]},mutations:y,getters:{alphabeticalCategories:function(e){return e.categories.sort(function(e,t){return-1===e.id?-1:e.name<t.name?-1:e.name>t.name?1:0})},current_category:function(e){return e.selected_category},current_difficulty:function(e){return e.current_difficulty},not_answered_question:function(e){return e.questions.find(function(e){return!e.answered})||{question:"No questions loaded yet."}}},actions:T});i.a.config.productionTip=!1,new i.a({el:"#app",router:w,store:q,components:{App:s},template:"<App/>"})},w0Bq:function(e,t){},xrT5:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.621420cab0d2de95be42.js.map