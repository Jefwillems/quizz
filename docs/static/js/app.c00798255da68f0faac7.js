webpackJsonp([1],{"5ilw":function(e,t){},DtU3:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("7+uW"),s=n("T1ft"),r=n.n(s),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var c=n("VU/8")({name:"App"},o,!1,function(e){n("5ilw")},null,null).exports,a=n("/ocq"),u=n("Dd8w"),l=n.n(u),d=n("NYxO"),f={FETCH_QUESTIONS:"fetch_questions",FETCH_CATEGORIES:"fetch_categories"},_={UPDATE_CATEGORIES:"update_categories",UPDATE_CATEGORY:"update_category",UPDATE_DIFFICULTY:"update_difficulty",UPDATE_QUESTIONS:"update_questions",ANSWER_CORRECT:"answer_correct",ANSWER_INCORRECT:"answer_incorrect"},p={mounted:function(){this.getCategories()},computed:l()({},Object(d.c)([]),Object(d.b)(["alphabeticalCategories","difficulties","selected_category","current_difficulty"])),methods:{getCategories:function(){this.$store.dispatch(f.FETCH_CATEGORIES)},update_category:function(e){this.$log.info("CAT"),this.$store.commit(_.UPDATE_CATEGORY,e.id)},update_difficulty:function(e){this.$log.info("DIFF"),this.$store.commit(_.UPDATE_DIFFICULTY,e.id)},get_new_questions:function(){this.$router.push("/question")}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fullscreen"},[n("div",{staticClass:"quiz"},[n("div",{staticClass:"element"},[n("v-select",{attrs:{options:e.alphabeticalCategories,value:e.selected_category},on:{input:e.update_category}})],1),e._v(" "),n("div",{staticClass:"element"},[n("v-select",{attrs:{options:e.difficulties,value:e.current_difficulty},on:{input:e.update_difficulty}})],1),e._v(" "),n("div",{staticClass:"element btn"},[n("button",{on:{click:e.get_new_questions}},[e._v("go to quiz")])])])])},staticRenderFns:[]};var v=n("VU/8")(p,h,!1,function(e){n("DtU3")},"data-v-bf699584",null).exports,g=n("Gu7T"),m=n.n(g),w={beforeMount:function(){this.$store.dispatch(f.FETCH_QUESTIONS)},data:function(){return{success:!1}},computed:l()({},Object(d.c)(["questions"]),Object(d.b)(["not_answered_question","score"]),{shuffled_answers:function(){return this.shuffleAnswers(this.not_answered_question.correct_answer,this.not_answered_question.incorrect_answers)},scoreString:function(){return this.score.correct+" / "+this.score.total}}),methods:{answer:function(e,t){2===this.$store.state.questions.filter(function(e){return!1===e.answered}).length&&this.$store.dispatch(f.FETCH_QUESTIONS),e.correct_answer===t?(this.success=!0,this.$store.commit(_.ANSWER_CORRECT,e)):(this.success=!1,this.$store.commit(_.ANSWER_INCORRECT,e))},shuffleAnswers:function(e,t){for(var n=[e].concat(m()(t)),i=n.length-1;i>0;i-=1){var s=Math.floor(Math.random()*(i+1)),r=[n[s],n[i]];n[i]=r[0],n[s]=r[1]}return n}}},E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{class:{green:e.success,red:!e.success}},[e._v("Previous question")]),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.scoreString)}}),e._v(" "),n("p",{domProps:{innerHTML:e._s(e.not_answered_question.question)}}),e._v(" "),"multiple"===e.not_answered_question.type?n("div",e._l(e.shuffled_answers,function(t){return n("a",{key:t,on:{click:function(n){e.answer(e.not_answered_question,t)}}},[n("div",{staticClass:"answer"},[n("span",{domProps:{innerHTML:e._s(t)}})])])})):e._e(),e._v(" "),"boolean"===e.not_answered_question.type?n("div",[n("a",{on:{click:function(t){e.answer(e.not_answered_question,"True")}}},[e._m(0)]),e._v(" "),n("a",{on:{click:function(t){e.answer(e.not_answered_question,"False")}}},[e._m(1)])]):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"answer"},[t("span",[this._v("True")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"answer"},[t("span",[this._v("False")])])}]};var y=n("VU/8")(w,E,!1,function(e){n("tTYe")},"data-v-93e10072",null).exports;i.a.use(a.a);var T=new a.a({routes:[{path:"/",name:"Quiz",component:v},{path:"/question",component:y,name:"Question"}]}),C={fetch_categories:function(e){var t=e.commit;fetch("https://opentdb.com/api_category.php").then(function(e){return e.json()}).then(function(e){var n=e.trivia_categories?e.trivia_categories:[];t(_.UPDATE_CATEGORIES,n)})},fetch_questions:function(e){var t=e.commit,n=e.state,s="https://opentdb.com/api.php?amount=10";-1!==n.selected_category.id&&(s+="&category="+n.selected_category.id),n.current_difficulty.name&&(s+="&difficulty="+n.current_difficulty.name),fetch(s).then(function(e){return e.json()}).then(function(e){var n=e.results?e.results:[];t(_.UPDATE_QUESTIONS,n)}).catch(function(e){return i.a.$log.debug(e)})}},q={update_categories:function(e,t){t.forEach(function(t){-1===e.categories.findIndex(function(e){return e.id===t.id})&&e.categories.push({label:t.name,id:t.id})})},update_category:function(e,t){e.selected_category=e.categories.find(function(e){return e.id===+t})},update_difficulty:function(e,t){e.current_difficulty=e.difficulties.find(function(e){return e.id===+t})},update_questions:function(e,t){var n=e.questions.length,i=t.map(function(e,t){return l()({},e,{answered:!1,correct:!1,id:n+t})});e.questions=[].concat(m()(e.questions),m()(i))},answer_correct:function(e,t){var n=e.questions.find(function(e){return e.id===t.id});n.answered=!0,n.correct=!0,e.score.correct+=1,e.score.total+=1},answer_incorrect:function(e,t){var n=e.questions.find(function(e){return e.id===t.id});n.answered=!0,n.correct=!1,e.score.total+=1}};i.a.use(d.a);var b=new d.a.Store({state:{categories:[{label:"Any Category",id:-1}],selected_category:{label:"Any Category",id:-1},difficulties:[{label:"Any Difficulty",id:-1},{label:"easy",id:1},{label:"medium",id:2},{label:"hard",id:3}],current_difficulty:{label:"Any Difficulty",id:-1},questions:[],score:{correct:0,total:0}},mutations:q,getters:{alphabeticalCategories:function(e){return e.categories.sort(function(e,t){return-1===e.id?-1:e.label<t.label?-1:e.label>t.label?1:0})},difficulties:function(e){var t=e.difficulties;return t},selected_category:function(e){return e.selected_category},current_difficulty:function(e){return e.current_difficulty},not_answered_question:function(e){return e.questions.find(function(e){return!e.answered})||{question:"No questions loaded yet."}},score:function(e){var t=e.score;return t}},actions:C}),A=n("pZOg"),O=n.n(A).a;i.a.config.productionTip=!1,i.a.use(O,{isEnabled:!0,logLevel:"debug",stringifyArguments:!1,showLogLevel:!1,showMethodName:!1,separator:"|",showConsoleColors:!1}),i.a.component("v-select",r.a),new i.a({el:"#app",router:T,store:b,components:{App:c},template:"<App/>"})},tTYe:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c00798255da68f0faac7.js.map