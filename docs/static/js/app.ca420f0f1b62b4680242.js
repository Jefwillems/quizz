webpackJsonp([1],{"3YOh":function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),i=n("T1ft"),r=n.n(i),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var c=n("VU/8")({name:"App"},o,!1,function(e){n("eM00")},null,null).exports,a=n("/ocq"),u=n("Dd8w"),l=n.n(u),d=n("NYxO"),f={FETCH_QUESTIONS:"fetch_questions",FETCH_CATEGORIES:"fetch_categories"},_={UPDATE_CATEGORIES:"update_categories",UPDATE_CATEGORY:"update_category",UPDATE_DIFFICULTY:"update_difficulty",UPDATE_QUESTIONS:"update_questions",ANSWER_CORRECT:"answer_correct",ANSWER_INCORRECT:"answer_incorrect",CLEAR_QUESTIONS:"clear_questions"},p={mounted:function(){this.getCategories()},computed:l()({},Object(d.c)([]),Object(d.b)(["alphabeticalCategories","difficulties","selected_category","current_difficulty"])),methods:{getCategories:function(){this.$store.dispatch(f.FETCH_CATEGORIES)},update_category:function(e){this.$store.commit(_.UPDATE_CATEGORY,e.id)},update_difficulty:function(e){this.$store.commit(_.UPDATE_DIFFICULTY,e.id)},get_new_questions:function(){this.$store.commit(_.CLEAR_QUESTIONS),this.$router.push("/question")}}},h={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"fullscreen"},[n("div",{staticClass:"quiz"},[n("div",{staticClass:"element"},[n("v-select",{attrs:{options:e.alphabeticalCategories,value:e.selected_category},on:{input:e.update_category}})],1),e._v(" "),n("div",{staticClass:"element"},[n("v-select",{attrs:{options:e.difficulties,value:e.current_difficulty},on:{input:e.update_difficulty}})],1),e._v(" "),n("div",{staticClass:"element btn"},[n("button",{on:{click:e.get_new_questions}},[n("span",[e._v("Start")])])])])])},staticRenderFns:[]};var v=n("VU/8")(p,h,!1,function(e){n("3YOh")},null,null).exports,g=n("Gu7T"),m=n.n(g),w={beforeMount:function(){this.$store.dispatch(f.FETCH_QUESTIONS)},data:function(){return{success:!1}},computed:l()({},Object(d.c)(["questions"]),Object(d.b)(["not_answered_question","score"]),{shuffled_answers:function(){return this.shuffleAnswers(this.not_answered_question.correct_answer,this.not_answered_question.incorrect_answers)},scoreString:function(){return this.score.correct+" / "+this.score.total}}),methods:{answer:function(e,t){2===this.$store.state.questions.filter(function(e){return!1===e.answered}).length&&this.$store.dispatch(f.FETCH_QUESTIONS),e.correct_answer===t?(this.success=!0,this.$store.commit(_.ANSWER_CORRECT,e)):(this.success=!1,this.$store.commit(_.ANSWER_INCORRECT,e))},shuffleAnswers:function(e,t){for(var n=[e].concat(m()(t)),s=n.length-1;s>0;s-=1){var i=Math.floor(Math.random()*(s+1)),r=[n[i],n[s]];n[s]=r[0],n[i]=r[1]}return n}}},C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"q_wrapper"},[n("div",{class:{green:e.success,red:!e.success}},[e._v("Previous question")]),e._v(" "),n("p",{staticClass:"score",domProps:{innerHTML:e._s(e.scoreString)}}),e._v(" "),n("p",{staticClass:"question",domProps:{innerHTML:e._s(e.not_answered_question.question)}}),e._v(" "),"multiple"===e.not_answered_question.type?n("div",{staticClass:"answers"},e._l(e.shuffled_answers,function(t){return n("a",{key:t,staticClass:"answer",on:{click:function(n){e.answer(e.not_answered_question,t)}}},[n("span",{domProps:{innerHTML:e._s(t)}})])})):e._e(),e._v(" "),"boolean"===e.not_answered_question.type?n("div",{staticClass:"answers"},[n("a",{staticClass:"answer",on:{click:function(t){e.answer(e.not_answered_question,"True")}}},[n("span",[e._v("True")])]),e._v(" "),n("a",{staticClass:"answer",on:{click:function(t){e.answer(e.not_answered_question,"False")}}},[n("span",[e._v("False")])])]):e._e()])},staticRenderFns:[]};var E=n("VU/8")(w,C,!1,function(e){n("s6JP")},"data-v-6ceecd47",null).exports;s.a.use(a.a);var y=new a.a({routes:[{path:"/",name:"Quiz",component:v},{path:"/question",component:E,name:"Question"}]}),T={fetch_categories:function(e){var t=e.commit;fetch("https://opentdb.com/api_category.php").then(function(e){return e.json()}).then(function(e){var n=e.trivia_categories?e.trivia_categories:[];t(_.UPDATE_CATEGORIES,n)})},fetch_questions:function(e){var t=e.commit,n=e.state,i="https://opentdb.com/api.php?amount=10";-1!==n.selected_category.id&&(i+="&category="+n.selected_category.id),-1!==n.current_difficulty.id&&(i+="&difficulty="+n.current_difficulty.label),fetch(i).then(function(e){return e.json()}).then(function(e){var n=e.results?e.results:[];t(_.UPDATE_QUESTIONS,n)}).catch(function(e){return s.a.$log.debug(e)})}},q={update_categories:function(e,t){t.forEach(function(t){-1===e.categories.findIndex(function(e){return e.id===t.id})&&e.categories.push({label:t.name,id:t.id})})},update_category:function(e,t){e.selected_category=e.categories.find(function(e){return e.id===+t})},update_difficulty:function(e,t){e.current_difficulty=e.difficulties.find(function(e){return e.id===+t})},update_questions:function(e,t){var n=e.questions.length,s=t.map(function(e,t){return l()({},e,{answered:!1,correct:!1,id:n+t})});e.questions=[].concat(m()(e.questions),m()(s))},answer_correct:function(e,t){var n=e.questions.find(function(e){return e.id===t.id});n.answered=!0,n.correct=!0,e.score.correct+=1,e.score.total+=1},answer_incorrect:function(e,t){var n=e.questions.find(function(e){return e.id===t.id});n.answered=!0,n.correct=!1,e.score.total+=1},clear_questions:function(e){e.questions=[]}};s.a.use(d.a);var b=new d.a.Store({state:{categories:[{label:"Any Category",id:-1}],selected_category:{label:"Any Category",id:-1},difficulties:[{label:"Any Difficulty",id:-1},{label:"easy",id:1},{label:"medium",id:2},{label:"hard",id:3}],current_difficulty:{label:"Any Difficulty",id:-1},questions:[],score:{correct:0,total:0}},mutations:q,getters:{alphabeticalCategories:function(e){return e.categories.sort(function(e,t){return-1===e.id?-1:e.label<t.label?-1:e.label>t.label?1:0})},difficulties:function(e){var t=e.difficulties;return t},selected_category:function(e){return e.selected_category},current_difficulty:function(e){return e.current_difficulty},not_answered_question:function(e){return e.questions.find(function(e){return!e.answered})||{question:"No questions loaded yet."}},score:function(e){var t=e.score;return t}},actions:T}),A=n("pZOg"),O=n.n(A).a;s.a.config.productionTip=!1,s.a.use(O,{isEnabled:!0,logLevel:"debug",stringifyArguments:!1,showLogLevel:!1,showMethodName:!1,separator:"|",showConsoleColors:!1}),s.a.component("v-select",r.a),new s.a({el:"#app",router:y,store:b,components:{App:c},template:"<App/>"})},eM00:function(e,t){},s6JP:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ca420f0f1b62b4680242.js.map